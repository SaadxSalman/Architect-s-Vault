# Apex-Agent ğŸ€âš½

An agent that provides real-time, in-game analytics for sports. Apex-Agent watches a live broadcast, identifies players, predicts plays, and generates on-the-fly tactical suggestions for coaches and analysts, giving them a data-driven edge in competitive sports.

-----

## âœ¨ Features

  * **Real-Time Analytics:** Processes live video streams to provide immediate insights and tactical recommendations.
  * **Player and Ball Tracking:** Utilizes **Vision-Transformers** to accurately track players and the ball throughout the game.
  * **Predictive Play Analysis:** A **Tactical Prediction Agent** predicts future plays by analyzing real-time game situations and historical data.
  * **Insightful Commentary:** A **Commentary Agent** provides live, data-driven insights, helping analysts and commentators enhance their commentary.
  * **Vector-Based Knowledge:** Creates a vector space of game situations, plays, and player tendencies, allowing for highly accurate predictions and a deeper understanding of the game.
  * **Low-Latency Processing:** Built with **Rust** for high-performance, low-latency video and data processing, essential for real-time applications.

-----

## âš™ï¸ Tech Stack

#### **1. High-Performance Core (The "Hot Path")**

* **Language:** **Rust** (using the `tokio` runtime for async I/O).
* **Video Processing:** **OpenCV (Rust bindings)** for frame capture and pre-processing.
* **Encoding/Streaming:** **FFmpeg** (piped from Rust) to generate HLS (HTTP Live Streaming) segments.
* **Inter-Process Communication:** **Redis** (Pub/Sub and Lists) to bridge the Rust engine and Python AI model.

#### **2. Vision & AI Intelligence**

* **Language:** **Python 3.10+**.
* **Model Architecture:** **Vision Transformers (ViT)** via HuggingFace `transformers`.
* **Inference Framework:** **PyTorch** (configured for CUDA/GPU acceleration).
* **Data Science:** **NumPy** and **Pillow** for tensor manipulation.

#### **3. Data & Knowledge Base**

* **Primary Database:** **MongoDB Atlas** (using **Vector Search** indexes).
* **Vector Engine:** **Cosine Similarity** search on 768-dimension embeddings generated by the ViT.
* **Object Modeling:** **Mongoose** (for schema definition in the Next.js layer).

#### **4. Fullstack Interface (The "Command Center")**

* **Framework:** **Next.js 14/15** (App Router).
* **Language:** **TypeScript** (strict mode for type safety).
* **Communication:** **tRPC** for end-to-end typesafe APIs between the frontend and the Next.js backend.
* **Styling:** **Tailwind CSS** with **Lucide React** for iconography.
* **Video Player:** **Video.js** with HLS support for low-latency playback.

---

### ğŸ“Š System Architecture Visualization

---

### ğŸ“‚ Dependency Breakdown (`Quick Reference`)

| Component | Key Libraries / Packages |
| --- | --- |
| **Rust** | `opencv`, `redis`, `tokio`, `serde`, `dotenv` |
| **Python** | `torch`, `transformers`, `redis`, `opencv-python` |
| **Frontend** | `video.js`, `@trpc/server`, `@trpc/client`, `mongoose`, `zod` |
| **Infrastructure** | `Docker`, `Docker Compose` |


-----

## ğŸš€ Getting Started

### Prerequisites

  * Rust
  * Python 3.10+ (for model inference)
  * Node.js (for the frontend)

### Installation

1.  **Clone the repository:**
    ```bash
    git clone https://github.com/saadsalmanakram/Apex-Agent.git
    cd Apex-Agent
    ```
2.  **Build the Rust backend:**
    ```bash
    cargo build --release
    ```
3.  **Set up the front-end:**
    Follow the instructions in the `frontend/` directory to set up the tRPC-based interface.

### Configuration

Add your API keys or model paths to a `.env` file for access to the custom-trained models and other services.

### Usage

Run the Rust backend and connect the frontend to begin processing live video streams and receiving real-time analytics.

-----

To bring everything together, here is the complete, final file structure for **Apex-Agent**. This structure organizes the high-performance Rust core, the Python AI inference layer, and the Next.js/tRPC frontend into a cohesive workspace.

### ğŸ“‚ Project Structure

```text
Apex-Agent/
â”œâ”€â”€ backend-rust/                # Rust High-Performance Engine
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ main.rs              # Application entry point
â”‚   â”‚   â”œâ”€â”€ video_stream.rs      # FFmpeg piping & frame capture
â”‚   â”‚   â”œâ”€â”€ vision/              
â”‚   â”‚   â”‚   â””â”€â”€ mod.rs           # Redis bridge for Python inference
â”‚   â”‚   â”œâ”€â”€ analytics/           
â”‚   â”‚   â”‚   â””â”€â”€ tactical.rs      # Game state & pattern logic
â”‚   â”‚   â””â”€â”€ server/              
â”‚   â”‚       â””â”€â”€ mod.rs           # Local API/Socket handlers
â”‚   â”œâ”€â”€ Cargo.toml               # Rust dependencies (opencv, redis, tokio)
â”‚   â””â”€â”€ .env                     # RTSP source & Redis config
â”œâ”€â”€ models/                      # AI & Inference Layer
â”‚   â”œâ”€â”€ weights/                 # Store .bin or .pt model files here
â”‚   â”œâ”€â”€ inference.py             # Python script (ViT + Redis worker)
â”‚   â””â”€â”€ requirements.txt         # Torch, Transformers, Redis-py
â”œâ”€â”€ frontend-next/               # Fullstack Web Interface
â”‚   â”œâ”€â”€ public/
â”‚   â”‚   â””â”€â”€ live/                # HLS segments (.m3u8, .ts) generated by Rust
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app/                 # Next.js App Router (Layouts/Pages)
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx    # Main tactical UI
â”‚   â”‚   â”‚   â””â”€â”€ VideoPlayer.tsx  # Video.js HLS consumer
â”‚   â”‚   â”œâ”€â”€ server/
â”‚   â”‚   â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts     # MongoDB connection (Mongoose)
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ schema.ts    # Vector-based Play schema
â”‚   â”‚   â”‚   â”œâ”€â”€ trpc.ts          # tRPC initialization
â”‚   â”‚   â”‚   â””â”€â”€ routers/
â”‚   â”‚   â”‚       â””â”€â”€ _app.ts      # Main tRPC router (Vector search logic)
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â”‚       â””â”€â”€ trpc.ts          # Frontend tRPC hooks
â”‚   â”œâ”€â”€ tailwind.config.ts
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docker-compose.yml           # Orchestrates MongoDB & Redis
â””â”€â”€ README.md                    # Project documentation

```

---
